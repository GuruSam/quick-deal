(function(t){function e(e){for(var n,o,i=e[0],u=e[1],l=e[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,i=1;i<s.length;i++){var u=s[i];0!==a[u]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},r=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var c=u;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1ba5":function(t,e,s){"use strict";s("dbfb")},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-center",attrs:{id:"app"}},[e("router-view")],1)},r=[],o={name:"App",components:{}},i=o,u=(s("1ba5"),s("2877")),l=Object(u["a"])(i,a,r,!1,null,null,null),c=l.exports,p=s("8c4f"),d=function(){var t=this,e=t._self._c;return e("div",[e("b-button",{attrs:{to:"tasks",size:"lg"}},[t._v("Список задач")])],1)},k=[],f={name:"Home"},m=f,b=Object(u["a"])(m,d,k,!1,null,null,null),v=b.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tasks-list d-flex flex-column justify-content-center"},[e("h1",{staticClass:"mb-4"},[t._v("Список задач")]),e("TaskListGroup"),e("TaskForm")],1)},h=[],x=function(){var t=this,e=t._self._c;return e("div",[t.tasks.length?e("b-list-group",{staticClass:"mb-5"},t._l(t.tasks,(function(s){return e("b-list-group-item",{key:s.id,staticClass:"text-left d-flex justify-content-between",attrs:{variant:s.color,button:""},on:{click:function(e){return t.onTaskClick(s.id)}}},[t._v(" "+t._s(s.text)+" "),e("b-icon-x",{staticClass:"task-remove-icon",attrs:{variant:"danger"},on:{click:function(e){return t.onRemoveClick(s.id)}}})],1)})),1):e("p",{staticClass:"text-muted mb-5"},[t._v("Задачи не найдены.")])],1)},y=[],_=s("2f62"),g={name:"TaskListGroup",computed:{tasks(){return this.$store.state.tasks}},methods:{...Object(_["b"])(["setCurrentTask","removeTask"]),onTaskClick(t){const e=this.tasks.find(e=>e.id===t);this.setCurrentTask({...e})},onRemoveClick(t){this.removeTask(t)}}},C=g,O=Object(u["a"])(C,x,y,!1,null,null,null),j=O.exports,w=function(){var t=this,e=t._self._c;return e("b-form",{staticClass:"task-form text-left",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("b-form-group",{attrs:{label:t.formLabel,"invalid-feedback":"Заполните поле"}},[e("b-form-input",{staticClass:"mb-3",attrs:{id:"task-text",type:"text",placeholder:"Опишите задачу",required:""},model:{value:t.task.text,callback:function(e){t.$set(t.task,"text",e)},expression:"task.text"}})],1),e("div",{staticClass:"mb-3"},t._l(t.colorOptions,(function(s){return e("b-button",{key:s,staticClass:"mr-2",attrs:{variant:t.task.color===s?s:"outline-"+s,size:"sm"},on:{click:function(e){return t.onColorClick(s)}}},[t._v(" "+t._s(s)+" ")])})),1),e("b-button",{attrs:{type:"submit"}},[t._v(t._s(t.isEdit?"Сохранить":"Создать"))])],1)},S=[],P={name:"TaskForm",data(){return{colorOptions:["primary","success","danger","warning","info"]}},computed:{task(){return this.$store.state.currentTask},isEdit(){return void 0!==this.task.id},formLabel(){return this.isEdit?"Редактировать задачу":"Добавить задачу"}},methods:{...Object(_["b"])(["addTask","updateTask"]),onSubmit(){this.isEdit?this.updateTask():this.addTask()},onColorClick(t){this.task.color=t}}},L=P,E=Object(u["a"])(L,w,S,!1,null,null,null),J=E.exports,M={name:"TasksList",components:{TaskForm:J,TaskListGroup:j}},$=M,F=(s("bb7b"),Object(u["a"])($,T,h,!1,null,null,null)),G=F.exports;n["a"].use(p["a"]);const R=[{path:"/",component:v,meta:{title:"Quick deal - Главная"}},{path:"/tasks",component:G,meta:{title:"Quick deal - Список задач"}}],z=new p["a"]({mode:"history",base:"/",routes:R});z.beforeResolve((t,e,s)=>{document.title=t.meta.title||document.title,s()});var I,N=z;s("14d9");n["a"].use(_["a"]);const Q={tasks:null!==(I=JSON.parse(localStorage.getItem("tasks")))&&void 0!==I?I:[],currentTask:{text:null,color:null}},q={setTasks:(t,e)=>{t.tasks=e},addTask:t=>{const e={...t.currentTask};e.id=t.tasks.length+1,t.tasks.push(e),t.currentTask={text:null,color:null}},setCurrentTask:(t,e)=>{t.currentTask=e},removeTask:(t,e)=>{t.tasks=t.tasks.filter(t=>t.id!==e)},updateTask:t=>{t.tasks=t.tasks.map(e=>e.id==t.currentTask.id?t.currentTask:e),t.currentTask={text:null,color:null}}},A={setTasks:(t,e)=>t.commit("setTasks",e),addTask:(t,e)=>t.commit("addTask",e),updateTask:(t,e)=>t.commit("updateTask",e),removeTask:(t,e)=>t.commit("removeTask",e),setCurrentTask:(t,e)=>t.commit("setCurrentTask",e)},D=new _["a"].Store({state:Q,mutations:q,actions:A});D.subscribe((t,e)=>{localStorage.setItem("tasks",JSON.stringify(e.tasks))});var H=D,B=s("1947"),K=s("aa59"),U=s("4797"),V=s("8226"),W=s("7386"),X=s("e68d"),Y=s("cbd0");s("f9e3"),s("2dd8");n["a"].component("b-button",B["a"]),n["a"].component("b-link",K["a"]),n["a"].component("b-form-input",U["a"]),n["a"].component("b-form-group",V["a"]),n["a"].component("b-icon-x",W["a"]),n["a"].use(X["a"]),n["a"].use(Y["a"]),n["a"].config.productionTip=!1,new n["a"]({router:N,store:H,render:t=>t(c)}).$mount("#app")},"7c50":function(t,e,s){},bb7b:function(t,e,s){"use strict";s("7c50")},dbfb:function(t,e,s){}});
//# sourceMappingURL=app.e7768dd5.js.map